<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:websocket="http://www.springframework.org/schema/websocket"
	xmlns:security="http://www.springframework.org/schema/security"
	xsi:schemaLocation="http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-4.1.xsd
		http://www.springframework.org/schema/websocket http://www.springframework.org/schema/websocket/spring-websocket.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">


	<!-- <bean id="chatHandler" class="com.faint.util.ChatWebSocketHandler" /> -->
	
	<!-- 웹소켓 메세지 인터셉터 -->
<!--     <security:websocket-message-broker>
	   	<security:intercept-message type="CONNECT" access="hasAnyRole('ROLE_USER', 'ROLE_ADMIN')" />
	   	<security:intercept-message type="SUBSCRIBE" access="hasAnyRole('ROLE_USER', 'ROLE_ADMIN')" />
	    <security:intercept-message type="UNSUBSCRIBE" access="hasAnyRole('ROLE_ADMIN')" />
	    <security:intercept-message type="DISCONNECT" access="hasAnyRole('ROLE_ADMIN')" />
	
	    <security:intercept-message pattern="/app/**" access="hasAnyRole('ROLE_USER', 'ROLE_ADMIN')" />
    </security:websocket-message-broker> -->
	
	<websocket:message-broker
		application-destination-prefix="/app"
		user-destination-prefix="/user">
       	
       	<websocket:stomp-endpoint path="/hello">
            <websocket:sockjs/>
        </websocket:stomp-endpoint>
        <websocket:simple-broker prefix="/chat, /notify, /access"/>
		
    </websocket:message-broker>
	
</beans>
